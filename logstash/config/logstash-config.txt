#----------------------------------------------------------------------------------------------------
# Script Information
#----------------------------------------------------------------------------------------------------
# Important!
#
# This script must be saved in "/etc/sysconfig" folder with the name "logstash". After that it must
# have at least "600" permissions (use chmod for this setting).
#
#----------------------------------------------------------------------------------------------------

#----------------------------------------------------------------------------------------------------
# MonitorProbe Settings
#----------------------------------------------------------------------------------------------------
# MP_BASE_URL: MonitorProbe base URL.
# MP_USER: The username to access the MonitorProbe API.
# MP_PASSWORD: The password to access the MonitorProbe API.
# MP_INTERVAL: The interval of time (in minutes) to go back.
# MP_SCHEDULE: Schedule of when to periodically poll from the MonitorProbe API.
               See official documentation here: https://www.elastic.co/guide/en/logstash/current/plugins-inputs-http_poller.html#plugins-inputs-http_poller-schedule
# MP_REQUEST_TIMEOUT: Timeout waiting for response in full.
                      See official documentation here: https://www.elastic.co/guide/en/logstash/current/plugins-inputs-http_poller.html#plugins-inputs-http_poller-request_timeout
# MP_SOCKET_TIMEOUT: Timeout waiting for the first data chunk of the response.
                     See official documentation here: https://www.elastic.co/guide/en/logstash/current/plugins-inputs-http_poller.html#plugins-inputs-http_poller-socket_timeout
#----------------------------------------------------------------------------------------------------

MP_BASE_URL="https://<OUTSYSTEMS_ENVIRONMENT_DOMAIN>/MonitorProbe/rest/PlatformLogsV2"
MP_USER="<USERNAME>"
MP_PASSWORD="<PASSWORD>"
MP_INTERVAL="3"
MP_SCHEDULE="2m"
MP_REQUEST_TIMEOUT="120"
MP_SOCKET_TIMEOUT="60"

#----------------------------------------------------------------------------------------------------
# JDBC Settings
#----------------------------------------------------------------------------------------------------
# JDBC_LIBRARY: The full path for Oracle JDBC Driver.
# JDBC_DRIVER_CLASS: The full class name of the JDBC driver.
# JDBC_CONNECTION_STRING: The connection string to SQL Server database.
# JDBC_USER: The username to access the SQL Server database.
# JDBC_PASSWORD: The password to access the SQL Server database.
# JDBC_SCHEDULE: The schedule to poll the database for data. It is a Crontab-like expression.
#----------------------------------------------------------------------------------------------------

JDBC_LIBRARY="/jdbc-drivers/mssql/sqljdbc_8.2/mssql-jdbc-8.2.2.jre8.jar"
JDBC_DRIVER_CLASS="com.microsoft.sqlserver.jdbc.SQLServerDriver"
JDBC_CONNECTION_STRING="jdbc:sqlserver://<SERVER>:1433;database=<LOG_DATABASE>;loginTimeout=30;"
JDBC_USER="<USERNAME>"
JDBC_PASSWORD="<PASSWORD>"
JDBC_SCHEDULE="*/5 * * * *"

#----------------------------------------------------------------------------------------------------
# Data Settings
#----------------------------------------------------------------------------------------------------
# LAST_RUN_PATH: Path to file with last run time information for the database queries.
# PATTERNS_DIR: The custom Grok patterns directory for Logstash.
# DATA_CUSTOMER_NAME: Used for multiple customers on the same Elasticsearch cluster.
# DATA_LOCATION_NAME: Used for multiple locations for the same customer.
# DATA_ENVIRONMENT_NAME: Used for multiple environments like dev, qa, prod, etc.
#----------------------------------------------------------------------------------------------------

LAST_RUN_DIR="/etc/logstash/run"
PATTERNS_DIR="/etc/logstash/patterns"
DATA_CUSTOMER_NAME="<CUSTOMER_NAME>"
DATA_LOCATION_NAME="<LOCATION>"
DATA_ENVIRONMENT_NAME="<ENV>"

#----------------------------------------------------------------------------------------------------
# Elasticsearch Settings
#----------------------------------------------------------------------------------------------------
# ES_HOST: The hostname and port of Elasticsearch cluster.
# ES_USER: The username to access the Elasticsearch cluster.
# ES_PASS: The password to access the Elasticsearch cluster.
#----------------------------------------------------------------------------------------------------

ES_HOST="localhost:9200"
ES_USER="<USERNAME>"
ES_PASS="<PASSWORD>"
